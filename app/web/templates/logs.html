{% extends "base.html" %}
{% block title %}{{ t("logs.title", lang) }} Â· {{ app_name }}{% endblock %}

{% block content %}
<h1 class="h1">{{ t("logs.title", lang) }}</h1>

<div class="card">
    <div class="card__title">{{ t("logs.latest", lang) }}</div>
    <div class="muted small">{{ t("logs.note", lang) }}</div>

    <div class="space"></div>

    {% if logs %}
    <div class="table">
        <div class="table__row table__row--head table__row--wide">
            <div class="table__cell table__cell--num">{{ t("logs.table.id", lang) }}</div>
            <div class="table__cell">{{ t("logs.table.time", lang) }}</div>
            <div class="table__cell">{{ t("logs.table.message", lang) }}</div>
        </div>
        {% for row in logs %}
        <div class="table__row table__row--wide">
            <div class="table__cell table__cell--num">{{ row.id }}</div>
            <div class="table__cell mono">{{ row.created_at }}</div>
            <div class="table__cell mono">{{ row.message }}</div>
        </div>
        {% endfor %}
    </div>
    <div class="space"></div>
    <div class="pagination">
        {% if page > 1 %}
        <a class="btn btn--ghost btn--icon" href="/logs?page={{ page - 1 }}&lang={{ lang }}" aria-label="Prev">&larr;</a>
        {% else %}
        <span class="btn btn--ghost btn--disabled btn--icon" aria-hidden="true">&larr;</span>
        {% endif %}
        <span class="muted small">{{ t("logs.page", lang) }} {{ page }} {{ t("logs.of", lang) }} {{ total_pages }}</span>
        {% if page < total_pages %}
        <a class="btn btn--ghost btn--icon" href="/logs?page={{ page + 1 }}&lang={{ lang }}" aria-label="Next">&rarr;</a>
        {% else %}
        <span class="btn btn--ghost btn--disabled btn--icon" aria-hidden="true">&rarr;</span>
        {% endif %}
    </div>
    {% else %}
    <div class="muted">{{ t("logs.empty", lang) }}</div>
    {% endif %}
</div>
{% endblock %}
